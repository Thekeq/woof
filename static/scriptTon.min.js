async function checkin(t){const e=window.tonConnectUI;if(!await e.connected)try{await e.connectWallet()}catch(t){return void console.error("Failed to connect wallet:",t)}const o=beginCell().storeUint(0,32).storeStringTail(t.toString()).endCell(),n={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:"UQC-q-xhxis_fL8ye5iOLrlmKWMM4pufdvzsluOzLurdBgfp",amount:toNano("0.05").toString(),payload:o.toBoc().toString("base64")}]};try{console.log("Sending transaction...");const a=document.querySelector(".loading-animation"),s=document.querySelector("#task-2 .start-btn");a&&(a.style.display="flex",s.style.display="none");const c=await e.sendTransaction(n);console.log("Transaction successful:",c);const i=TonWeb.utils.base64ToBytes(c.boc),l=await TonWeb.boc.Cell.oneFromBoc(i),r=await l.hash(),d=TonWeb.utils.bytesToBase64(r),y=await fetch("/process_transaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,msg_hash:d,payload:o.toBoc().toString("base64"),type:"check-in"})});if("success"===(await y.json()).status){const t=document.querySelector(".type-item.active").id;loadTasks(t)}else{const t=document.querySelector(".type-item.active").id;loadTasks(t)}}catch(t){const e=document.querySelector(".type-item.active").id;loadTasks(e)}}